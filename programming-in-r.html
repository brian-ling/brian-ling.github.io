<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Programming in R | STAT 362 R for Data Science</title>
  <meta name="description" content="Notes for STAT 362" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Programming in R | STAT 362 R for Data Science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Notes for STAT 362" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Programming in R | STAT 362 R for Data Science" />
  
  <meta name="twitter:description" content="Notes for STAT 362" />
  

<meta name="author" content="Brian Ling" />


<meta name="date" content="2023-02-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="probability-and-simulation.html"/>
<link rel="next" href="managing-data-with-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-is-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> What is R and RStudio?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#why-r"><i class="fa fa-check"></i><b>1.2</b> Why R?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-will-you-learn-in-this-course"><i class="fa fa-check"></i><b>1.3</b> What will you learn in this course?</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#r-and-r-as-a-programming-language"><i class="fa fa-check"></i><b>1.3.1</b> R and R as a programming language</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#data-wrangling"><i class="fa fa-check"></i><b>1.3.2</b> Data Wrangling</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#data-visualization"><i class="fa fa-check"></i><b>1.3.3</b> Data Visualization</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#statistical-inference"><i class="fa fa-check"></i><b>1.3.4</b> Statistical Inference</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#machine-learning"><i class="fa fa-check"></i><b>1.3.5</b> Machine Learning</a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction.html"><a href="introduction.html#some-numerical-methods"><i class="fa fa-check"></i><b>1.3.6</b> Some Numerical Methods</a></li>
<li class="chapter" data-level="1.3.7" data-path="introduction.html"><a href="introduction.html#lastly"><i class="fa fa-check"></i><b>1.3.7</b> Lastly</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#lets-get-started"><i class="fa fa-check"></i><b>1.4</b> Let’s Get Started</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#r-data-structures"><i class="fa fa-check"></i><b>1.5</b> R Data Structures</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction.html"><a href="introduction.html#vectors"><i class="fa fa-check"></i><b>1.5.1</b> Vectors</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction.html"><a href="introduction.html#factors"><i class="fa fa-check"></i><b>1.5.2</b> Factors</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction.html"><a href="introduction.html#matrix"><i class="fa fa-check"></i><b>1.5.3</b> Matrix</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction.html"><a href="introduction.html#lists"><i class="fa fa-check"></i><b>1.5.4</b> Lists</a></li>
<li class="chapter" data-level="1.5.5" data-path="introduction.html"><a href="introduction.html#data-frames"><i class="fa fa-check"></i><b>1.5.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#operators"><i class="fa fa-check"></i><b>1.6</b> Operators</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction.html"><a href="introduction.html#vectorized-operators"><i class="fa fa-check"></i><b>1.6.1</b> Vectorized Operators</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#built-in-functions"><i class="fa fa-check"></i><b>1.7</b> Built-in Functions</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction.html"><a href="introduction.html#sort"><i class="fa fa-check"></i><b>1.7.1</b> <code>sort()</code></a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction.html"><a href="introduction.html#seq"><i class="fa fa-check"></i><b>1.7.2</b> <code>seq()</code></a></li>
<li class="chapter" data-level="1.7.3" data-path="introduction.html"><a href="introduction.html#rep"><i class="fa fa-check"></i><b>1.7.3</b> <code>rep()</code></a></li>
<li class="chapter" data-level="1.7.4" data-path="introduction.html"><a href="introduction.html#pmax-pmin"><i class="fa fa-check"></i><b>1.7.4</b> <code>pmax</code>, <code>pmin</code></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#some-useful-rstudio-shortcuts"><i class="fa fa-check"></i><b>1.8</b> Some Useful RStudio Shortcuts</a></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#exercises"><i class="fa fa-check"></i><b>1.9</b> Exercises</a></li>
<li class="chapter" data-level="1.10" data-path="introduction.html"><a href="introduction.html#comments-to-exercises"><i class="fa fa-check"></i><b>1.10</b> Comments to Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html"><i class="fa fa-check"></i><b>2</b> Probability and Simulation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html#probability-distributions"><i class="fa fa-check"></i><b>2.1</b> Probability Distributions</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html#common-distributions"><i class="fa fa-check"></i><b>2.1.1</b> Common Distributions</a></li>
<li class="chapter" data-level="2.1.2" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html#exercises-1"><i class="fa fa-check"></i><b>2.1.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html#simulation"><i class="fa fa-check"></i><b>2.2</b> Simulation</a></li>
<li class="chapter" data-level="2.3" data-path="probability-and-simulation.html"><a href="probability-and-simulation.html#additional-exercises"><i class="fa fa-check"></i><b>2.3</b> Additional Exercises:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>3</b> Programming in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#writing-functions-in-r"><i class="fa fa-check"></i><b>3.1</b> Writing functions in R</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="programming-in-r.html"><a href="programming-in-r.html#argument-matching"><i class="fa fa-check"></i><b>3.1.1</b> Argument Matching</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="programming-in-r.html"><a href="programming-in-r.html#control-flow"><i class="fa fa-check"></i><b>3.2</b> Control Flow</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="programming-in-r.html"><a href="programming-in-r.html#for-loop"><i class="fa fa-check"></i><b>3.2.1</b> for loop</a></li>
<li class="chapter" data-level="3.2.2" data-path="programming-in-r.html"><a href="programming-in-r.html#nested-for-loop"><i class="fa fa-check"></i><b>3.2.2</b> nested for loop</a></li>
<li class="chapter" data-level="3.2.3" data-path="programming-in-r.html"><a href="programming-in-r.html#while-loop"><i class="fa fa-check"></i><b>3.2.3</b> while loop</a></li>
<li class="chapter" data-level="3.2.4" data-path="programming-in-r.html"><a href="programming-in-r.html#if-cond"><i class="fa fa-check"></i><b>3.2.4</b> if (cond)</a></li>
<li class="chapter" data-level="3.2.5" data-path="programming-in-r.html"><a href="programming-in-r.html#if-cond-else-expr"><i class="fa fa-check"></i><b>3.2.5</b> if (cond) else expr</a></li>
<li class="chapter" data-level="3.2.6" data-path="programming-in-r.html"><a href="programming-in-r.html#if-else-ladder"><i class="fa fa-check"></i><b>3.2.6</b> If else ladder</a></li>
<li class="chapter" data-level="3.2.7" data-path="programming-in-r.html"><a href="programming-in-r.html#switch"><i class="fa fa-check"></i><b>3.2.7</b> <code>switch</code></a></li>
<li class="chapter" data-level="3.2.8" data-path="programming-in-r.html"><a href="programming-in-r.html#next-break"><i class="fa fa-check"></i><b>3.2.8</b> <code>next</code>, <code>break</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="programming-in-r.html"><a href="programming-in-r.html#loop-functions"><i class="fa fa-check"></i><b>3.3</b> Loop functions</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#apply"><i class="fa fa-check"></i><b>3.3.1</b> <code>apply()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="programming-in-r.html"><a href="programming-in-r.html#lapply"><i class="fa fa-check"></i><b>3.3.2</b> <code>lapply()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="programming-in-r.html"><a href="programming-in-r.html#automatically-reindent-code"><i class="fa fa-check"></i><b>3.4</b> Automatically Reindent Code</a></li>
<li class="chapter" data-level="3.5" data-path="programming-in-r.html"><a href="programming-in-r.html#speed-consideration"><i class="fa fa-check"></i><b>3.5</b> Speed Consideration</a></li>
<li class="chapter" data-level="3.6" data-path="programming-in-r.html"><a href="programming-in-r.html#additional-exercises-1"><i class="fa fa-check"></i><b>3.6</b> Additional Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html"><i class="fa fa-check"></i><b>4</b> Managing Data with R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#missing-values"><i class="fa fa-check"></i><b>4.1</b> Missing Values</a></li>
<li class="chapter" data-level="4.2" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#saving-loading-and-removing-r-data-structures"><i class="fa fa-check"></i><b>4.2</b> Saving, loading, and removing R data structures</a></li>
<li class="chapter" data-level="4.3" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#importing-and-saving-data-from-csv-files"><i class="fa fa-check"></i><b>4.3</b> Importing and saving data from CSV files</a></li>
<li class="chapter" data-level="4.4" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#data-transformation-with-dplyr"><i class="fa fa-check"></i><b>4.4</b> Data Transformation with <code>dplyr</code></a></li>
<li class="chapter" data-level="4.5" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#arrange"><i class="fa fa-check"></i><b>4.5</b> <code>arrange()</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#exercises-2"><i class="fa fa-check"></i><b>4.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#filter"><i class="fa fa-check"></i><b>4.6</b> <code>filter()</code></a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#exercises-3"><i class="fa fa-check"></i><b>4.6.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#select"><i class="fa fa-check"></i><b>4.7</b> <code>select()</code></a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#exercises-4"><i class="fa fa-check"></i><b>4.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#mutate"><i class="fa fa-check"></i><b>4.8</b> <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#exercises-5"><i class="fa fa-check"></i><b>4.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#summarize-group_by"><i class="fa fa-check"></i><b>4.9</b> <code>summarize(), group_by()</code></a></li>
<li class="chapter" data-level="4.10" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#combining-multiple-operations-with-pipe"><i class="fa fa-check"></i><b>4.10</b> Combining Multiple Operations with Pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.11" data-path="managing-data-with-r.html"><a href="managing-data-with-r.html#summary"><i class="fa fa-check"></i><b>4.11</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html"><i class="fa fa-check"></i><b>5</b> Creating Some Basic Plots</a>
<ul>
<li class="chapter" data-level="5.1" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#scatter-plot"><i class="fa fa-check"></i><b>5.1</b> Scatter Plot</a></li>
<li class="chapter" data-level="5.2" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#line-graph"><i class="fa fa-check"></i><b>5.2</b> Line Graph</a></li>
<li class="chapter" data-level="5.3" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#bar-chart"><i class="fa fa-check"></i><b>5.3</b> Bar Chart</a></li>
<li class="chapter" data-level="5.4" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#histogram"><i class="fa fa-check"></i><b>5.4</b> Histogram</a></li>
<li class="chapter" data-level="5.5" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#box-plot"><i class="fa fa-check"></i><b>5.5</b> Box Plot</a></li>
<li class="chapter" data-level="5.6" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#plotting-a-function-curve"><i class="fa fa-check"></i><b>5.6</b> Plotting a function curve</a></li>
<li class="chapter" data-level="5.7" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#more-on-plots-with-base-r"><i class="fa fa-check"></i><b>5.7</b> More on plots with base R</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#multi-frame-plot"><i class="fa fa-check"></i><b>5.7.1</b> Multi-frame plot</a></li>
<li class="chapter" data-level="5.7.2" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#subsubsec:type_of_plot"><i class="fa fa-check"></i><b>5.7.2</b> Type of Plot</a></li>
<li class="chapter" data-level="5.7.3" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#parameters-of-a-plot"><i class="fa fa-check"></i><b>5.7.3</b> Parameters of a plot</a></li>
<li class="chapter" data-level="5.7.4" data-path="creating-some-basic-plots.html"><a href="creating-some-basic-plots.html#elements-on-plot"><i class="fa fa-check"></i><b>5.7.4</b> Elements on plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#bar-charts"><i class="fa fa-check"></i><b>6.1</b> Bar charts</a></li>
<li class="chapter" data-level="6.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#line-graph-1"><i class="fa fa-check"></i><b>6.2</b> Line Graph</a></li>
<li class="chapter" data-level="6.3" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#scatter-plots"><i class="fa fa-check"></i><b>6.3</b> Scatter Plots</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#overplotting"><i class="fa fa-check"></i><b>6.3.1</b> Overplotting</a></li>
<li class="chapter" data-level="6.3.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#labelling-points-in-a-scatter-plot"><i class="fa fa-check"></i><b>6.3.2</b> Labelling points in a scatter plot</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#summarizing-data-distributions"><i class="fa fa-check"></i><b>6.4</b> Summarizing Data Distributions</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#histogram-1"><i class="fa fa-check"></i><b>6.4.1</b> Histogram</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#kernel-density-estimate"><i class="fa fa-check"></i><b>6.4.2</b> Kernel Density Estimate</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#saving-your-plots"><i class="fa fa-check"></i><b>6.5</b> Saving your plots</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#outputting-to-pdf-vector-files"><i class="fa fa-check"></i><b>6.5.1</b> Outputting to pdf vector files</a></li>
<li class="chapter" data-level="6.5.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#outputting-to-bitmap-files"><i class="fa fa-check"></i><b>6.5.2</b> Outputting to bitmap files</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#axes-appearance"><i class="fa fa-check"></i><b>6.6</b> Axes, appearance</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#swapping-x--and-y-axes"><i class="fa fa-check"></i><b>6.6.1</b> Swapping X- and Y-axes</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#setting-the-range-of-a-continuous-axis"><i class="fa fa-check"></i><b>6.6.2</b> Setting the range of a continuous axis</a></li>
<li class="chapter" data-level="6.6.3" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#changing-the-text-of-axis-labels"><i class="fa fa-check"></i><b>6.6.3</b> Changing the text of axis labels</a></li>
<li class="chapter" data-level="6.6.4" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#adding-title"><i class="fa fa-check"></i><b>6.6.4</b> Adding Title</a></li>
<li class="chapter" data-level="6.6.5" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#adding-subtitle"><i class="fa fa-check"></i><b>6.6.5</b> Adding Subtitle</a></li>
<li class="chapter" data-level="6.6.6" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#using-themes"><i class="fa fa-check"></i><b>6.6.6</b> Using Themes</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#summary-1"><i class="fa fa-check"></i><b>6.7</b> Summary</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#bar-charts-1"><i class="fa fa-check"></i><b>6.7.1</b> Bar charts</a></li>
<li class="chapter" data-level="6.7.2" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#line-graphs"><i class="fa fa-check"></i><b>6.7.2</b> Line graphs</a></li>
<li class="chapter" data-level="6.7.3" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#scatter-plot-1"><i class="fa fa-check"></i><b>6.7.3</b> Scatter plot</a></li>
<li class="chapter" data-level="6.7.4" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#summarizing-data-distributions-1"><i class="fa fa-check"></i><b>6.7.4</b> Summarizing data distributions</a></li>
<li class="chapter" data-level="6.7.5" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#saving-your-plots-1"><i class="fa fa-check"></i><b>6.7.5</b> Saving your plots</a></li>
<li class="chapter" data-level="6.7.6" data-path="data-visualization-with-ggplot2.html"><a href="data-visualization-with-ggplot2.html#axes-appearance-1"><i class="fa fa-check"></i><b>6.7.6</b> Axes, appearance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html"><i class="fa fa-check"></i><b>7</b> Statistical Inference in R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>7.1</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#exercises-on-mle"><i class="fa fa-check"></i><b>7.1.1</b> Exercises on MLE</a></li>
<li class="chapter" data-level="7.1.2" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#summary-2"><i class="fa fa-check"></i><b>7.1.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#interval-estimation-and-hypothesis-testing"><i class="fa fa-check"></i><b>7.2</b> Interval Estimation and Hypothesis Testing</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#examples-of-hypothesis-testing"><i class="fa fa-check"></i><b>7.2.1</b> Examples of Hypothesis Testing</a></li>
<li class="chapter" data-level="7.2.2" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#null-hypotheses-alternative-hypotheses-and-p-values"><i class="fa fa-check"></i><b>7.2.2</b> Null Hypotheses, Alternative Hypotheses, and p-values</a></li>
<li class="chapter" data-level="7.2.3" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#type-i-error-and-type-ii-error"><i class="fa fa-check"></i><b>7.2.3</b> Type I error and Type II error</a></li>
<li class="chapter" data-level="7.2.4" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#inference-for-mean-of-one-sample"><i class="fa fa-check"></i><b>7.2.4</b> Inference for Mean of One Sample</a></li>
<li class="chapter" data-level="7.2.5" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#comparing-the-means-of-two-samples"><i class="fa fa-check"></i><b>7.2.5</b> Comparing the means of two samples</a></li>
<li class="chapter" data-level="7.2.6" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#inference-of-a-sample-proportion"><i class="fa fa-check"></i><b>7.2.6</b> Inference of a Sample Proportion</a></li>
<li class="chapter" data-level="7.2.7" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#testing-groups-for-equal-proportions"><i class="fa fa-check"></i><b>7.2.7</b> Testing groups for equal proportions</a></li>
<li class="chapter" data-level="7.2.8" data-path="statistical-inference-in-r.html"><a href="statistical-inference-in-r.html#testing-if-two-samples-have-the-same-underlying-distribution"><i class="fa fa-check"></i><b>7.2.8</b> Testing if two samples have the same underlying distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html"><i class="fa fa-check"></i><b>8</b> Root finding and optimization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#root-finding"><i class="fa fa-check"></i><b>8.1</b> Root Finding</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#bisection-method"><i class="fa fa-check"></i><b>8.1.1</b> Bisection Method</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#newton-raphson-method"><i class="fa fa-check"></i><b>8.2</b> Newton-Raphson Method</a></li>
<li class="chapter" data-level="8.3" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#minimization-and-maximization"><i class="fa fa-check"></i><b>8.3</b> Minimization and Maximization</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#newton-raphson-method-1"><i class="fa fa-check"></i><b>8.3.1</b> Newton-Raphson Method</a></li>
<li class="chapter" data-level="8.3.2" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#gradient-descent"><i class="fa fa-check"></i><b>8.3.2</b> Gradient Descent</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="root-finding-and-optimization.html"><a href="root-finding-and-optimization.html#optim"><i class="fa fa-check"></i><b>8.4</b> <code>optim</code></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 362 R for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming-in-r" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Programming in R<a href="programming-in-r.html#programming-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Optional reading: R Cookbook Ch 15</p>
<div id="writing-functions-in-r" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Writing functions in R<a href="programming-in-r.html#writing-functions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>When you have to copy and paste some code more than 2 times, you should consider writing a function</p></li>
<li><p>Writing a function can simplify your code and isolate the main part of your program</p></li>
</ul>
<p><strong><em>General format of a function</em></strong></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="programming-in-r.html#cb86-1" aria-hidden="true" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(argument1, argument2) {</span>
<span id="cb86-2"><a href="programming-in-r.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  statements</span>
<span id="cb86-3"><a href="programming-in-r.html#cb86-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong>Example:</strong> Let’s try to write a function to compute the sample variance.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="programming-in-r.html#cb87-1" aria-hidden="true" tabindex="-1"></a>my_var <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb87-2"><a href="programming-in-r.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb87-3"><a href="programming-in-r.html#cb87-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb87-4"><a href="programming-in-r.html#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>((x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb87-5"><a href="programming-in-r.html#cb87-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb87-6"><a href="programming-in-r.html#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="programming-in-r.html#cb87-7" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">9</span></span>
<span id="cb87-8"><a href="programming-in-r.html#cb87-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-9"><a href="programming-in-r.html#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="fu">my_var</span>(y)</span>
<span id="cb87-10"><a href="programming-in-r.html#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 7.5</span></span>
<span id="cb87-11"><a href="programming-in-r.html#cb87-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-12"><a href="programming-in-r.html#cb87-12" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(y) <span class="co"># compared with the bulit-in function</span></span>
<span id="cb87-13"><a href="programming-in-r.html#cb87-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 7.5</span></span>
<span id="cb87-14"><a href="programming-in-r.html#cb87-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-15"><a href="programming-in-r.html#cb87-15" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span>
<span id="cb87-16"><a href="programming-in-r.html#cb87-16" aria-hidden="true" tabindex="-1"></a><span class="fu">my_var</span>(x)</span>
<span id="cb87-17"><a href="programming-in-r.html#cb87-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.698982</span></span>
<span id="cb87-18"><a href="programming-in-r.html#cb87-18" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x) <span class="co"># why the result is not equal to 4?</span></span>
<span id="cb87-19"><a href="programming-in-r.html#cb87-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.698982</span></span></code></pre></div>
<ul>
<li>We can also write</li>
</ul>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="programming-in-r.html#cb88-1" aria-hidden="true" tabindex="-1"></a>my_var2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {<span class="fu">sum</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (<span class="fu">length</span>(x) <span class="sc">-</span> <span class="dv">1</span>)}</span></code></pre></div>
<ul>
<li>The variable <code>x</code> is the argument to be passed into the function. The variables <code>mean_x</code> and <code>n</code> are <strong><em>local variables</em></strong> whose scope is within this function.</li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="programming-in-r.html#cb89-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb89-2"><a href="programming-in-r.html#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="programming-in-r.html#cb89-3" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb89-4"><a href="programming-in-r.html#cb89-4" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> x</span>
<span id="cb89-5"><a href="programming-in-r.html#cb89-5" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb89-6"><a href="programming-in-r.html#cb89-6" aria-hidden="true" tabindex="-1"></a>  y</span>
<span id="cb89-7"><a href="programming-in-r.html#cb89-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb89-8"><a href="programming-in-r.html#cb89-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-9"><a href="programming-in-r.html#cb89-9" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb89-10"><a href="programming-in-r.html#cb89-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb89-11"><a href="programming-in-r.html#cb89-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-12"><a href="programming-in-r.html#cb89-12" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="dv">3</span>) <span class="co"># output the value f(3)</span></span>
<span id="cb89-13"><a href="programming-in-r.html#cb89-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb89-14"><a href="programming-in-r.html#cb89-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-15"><a href="programming-in-r.html#cb89-15" aria-hidden="true" tabindex="-1"></a>y <span class="co"># y is unchanged, y is defined in the global environment</span></span>
<span id="cb89-16"><a href="programming-in-r.html#cb89-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb89-17"><a href="programming-in-r.html#cb89-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-18"><a href="programming-in-r.html#cb89-18" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb89-19"><a href="programming-in-r.html#cb89-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Error in eval(expr, envir, enclos): object &#39;x&#39; not found</span></span></code></pre></div>
<p><strong><em>We shall write code using proper indentation (easier to read and debug)</em></strong></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="programming-in-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># with indentation (use this one)</span></span>
<span id="cb90-2"><a href="programming-in-r.html#cb90-2" aria-hidden="true" tabindex="-1"></a>my_var <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb90-3"><a href="programming-in-r.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb90-4"><a href="programming-in-r.html#cb90-4" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb90-5"><a href="programming-in-r.html#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>((x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb90-6"><a href="programming-in-r.html#cb90-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-7"><a href="programming-in-r.html#cb90-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-8"><a href="programming-in-r.html#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co"># no indentation</span></span>
<span id="cb90-9"><a href="programming-in-r.html#cb90-9" aria-hidden="true" tabindex="-1"></a>my_var <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb90-10"><a href="programming-in-r.html#cb90-10" aria-hidden="true" tabindex="-1"></a>mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb90-11"><a href="programming-in-r.html#cb90-11" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb90-12"><a href="programming-in-r.html#cb90-12" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(<span class="fu">sum</span>((x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb90-13"><a href="programming-in-r.html#cb90-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong><em>The number of arguments passed to a function can be more than one</em></strong></p>
<p><strong>Example:</strong> Write a function to compute the pooled sample standard deviation of two independent samples <span class="math inline">\(x_1,\ldots,x_n\)</span> and <span class="math inline">\(y_1,\ldots,y_m\)</span> of sizes <span class="math inline">\(n\)</span> and <span class="math inline">\(m\)</span>. Recall that the pooled sample standard deviation is defined as:
<span class="math display">\[
S_p := \sqrt{\frac{(n-1)S^2_X + (m-1)S^2_Y}{m+n-2}},
\]</span>
where <span class="math inline">\(S^2_X\)</span> and <span class="math inline">\(S^2_Y\)</span> are the sample variances of <span class="math inline">\(x_1,\ldots,x_n\)</span> and <span class="math inline">\(y_1,\ldots,y_m\)</span>, respectively.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="programming-in-r.html#cb91-1" aria-hidden="true" tabindex="-1"></a>pooled_sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb91-2"><a href="programming-in-r.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb91-3"><a href="programming-in-r.html#cb91-3" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">length</span>(y)</span>
<span id="cb91-4"><a href="programming-in-r.html#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sqrt</span>(((n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="fu">var</span>(x) <span class="sc">+</span> (m <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="fu">var</span>(y)) <span class="sc">/</span> (m <span class="sc">+</span> n <span class="sc">-</span> <span class="dv">2</span>)))</span>
<span id="cb91-5"><a href="programming-in-r.html#cb91-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Remark: if the final statement will output something, it will be the output of the function. You can also use <code>return()</code> as above. That is, <code>pooled_sd</code> and <code>pooled_sd2</code> are exactly the same.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="programming-in-r.html#cb92-1" aria-hidden="true" tabindex="-1"></a>pooled_sd2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb92-2"><a href="programming-in-r.html#cb92-2" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb92-3"><a href="programming-in-r.html#cb92-3" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">length</span>(y)</span>
<span id="cb92-4"><a href="programming-in-r.html#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(((n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="fu">var</span>(x) <span class="sc">+</span> (m <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="fu">var</span>(y)) <span class="sc">/</span> (m <span class="sc">+</span> n <span class="sc">-</span> <span class="dv">2</span>))</span>
<span id="cb92-5"><a href="programming-in-r.html#cb92-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><strong><em>You can return more than one value in a function</em></strong></p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="programming-in-r.html#cb93-1" aria-hidden="true" tabindex="-1"></a>my_var_sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb93-2"><a href="programming-in-r.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb93-3"><a href="programming-in-r.html#cb93-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb93-4"><a href="programming-in-r.html#cb93-4" aria-hidden="true" tabindex="-1"></a>  my_var <span class="ot">&lt;-</span> <span class="fu">sum</span>((x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb93-5"><a href="programming-in-r.html#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">c</span>(my_var, <span class="fu">sqrt</span>(my_var)))</span>
<span id="cb93-6"><a href="programming-in-r.html#cb93-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>You may also return a list</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="programming-in-r.html#cb94-1" aria-hidden="true" tabindex="-1"></a>my_var_sd <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb94-2"><a href="programming-in-r.html#cb94-2" aria-hidden="true" tabindex="-1"></a>  mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb94-3"><a href="programming-in-r.html#cb94-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb94-4"><a href="programming-in-r.html#cb94-4" aria-hidden="true" tabindex="-1"></a>  my_var <span class="ot">&lt;-</span> <span class="fu">sum</span>((x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb94-5"><a href="programming-in-r.html#cb94-5" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">var =</span> my_var, <span class="at">sd =</span> <span class="fu">sqrt</span>(my_var))</span>
<span id="cb94-6"><a href="programming-in-r.html#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)</span>
<span id="cb94-7"><a href="programming-in-r.html#cb94-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Example: write a function called <code>my_summary</code> that will output a list with elements being equal to the mean, sd, median, min and max of a given vector.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="programming-in-r.html#cb95-1" aria-hidden="true" tabindex="-1"></a>my_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb95-2"><a href="programming-in-r.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="fu">mean</span>(x), <span class="at">sd =</span> <span class="fu">sd</span>(x), <span class="at">median =</span> <span class="fu">median</span>(x), </span>
<span id="cb95-3"><a href="programming-in-r.html#cb95-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">min =</span> <span class="fu">min</span>(x), <span class="at">max =</span> <span class="fu">max</span>(x))</span>
<span id="cb95-4"><a href="programming-in-r.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output)  </span>
<span id="cb95-5"><a href="programming-in-r.html#cb95-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb95-6"><a href="programming-in-r.html#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="programming-in-r.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="fu">my_summary</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb95-8"><a href="programming-in-r.html#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="do">## $mean</span></span>
<span id="cb95-9"><a href="programming-in-r.html#cb95-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5.5</span></span>
<span id="cb95-10"><a href="programming-in-r.html#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb95-11"><a href="programming-in-r.html#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="do">## $sd</span></span>
<span id="cb95-12"><a href="programming-in-r.html#cb95-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3.02765</span></span>
<span id="cb95-13"><a href="programming-in-r.html#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb95-14"><a href="programming-in-r.html#cb95-14" aria-hidden="true" tabindex="-1"></a><span class="do">## $median</span></span>
<span id="cb95-15"><a href="programming-in-r.html#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5.5</span></span>
<span id="cb95-16"><a href="programming-in-r.html#cb95-16" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb95-17"><a href="programming-in-r.html#cb95-17" aria-hidden="true" tabindex="-1"></a><span class="do">## $min</span></span>
<span id="cb95-18"><a href="programming-in-r.html#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb95-19"><a href="programming-in-r.html#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb95-20"><a href="programming-in-r.html#cb95-20" aria-hidden="true" tabindex="-1"></a><span class="do">## $max</span></span>
<span id="cb95-21"><a href="programming-in-r.html#cb95-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span></code></pre></div>
<p><strong><em>Define a function with default value</em></strong></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="programming-in-r.html#cb96-1" aria-hidden="true" tabindex="-1"></a>my_power <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">p =</span> <span class="dv">2</span>) {</span>
<span id="cb96-2"><a href="programming-in-r.html#cb96-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">return</span>(x<span class="sc">^</span>p)</span>
<span id="cb96-3"><a href="programming-in-r.html#cb96-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb96-4"><a href="programming-in-r.html#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="programming-in-r.html#cb96-5" aria-hidden="true" tabindex="-1"></a><span class="fu">my_power</span>(<span class="dv">3</span>) <span class="co"># by default, p = 2, will compute 3^2</span></span>
<span id="cb96-6"><a href="programming-in-r.html#cb96-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 9</span></span>
<span id="cb96-7"><a href="programming-in-r.html#cb96-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-8"><a href="programming-in-r.html#cb96-8" aria-hidden="true" tabindex="-1"></a><span class="fu">my_power</span>(<span class="dv">3</span>, <span class="dv">3</span>) <span class="co"># will compute 3^3</span></span>
<span id="cb96-9"><a href="programming-in-r.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 27</span></span></code></pre></div>
<p><strong><em>Examples with matrix input</em></strong></p>
<p>Write a function called <code>matrix_times_vector</code> to compute <span class="math inline">\(X Y\)</span>, where <span class="math inline">\(X\)</span> is a matrix and <span class="math inline">\(Y\)</span> is a vector. The output should be a vector.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="programming-in-r.html#cb97-1" aria-hidden="true" tabindex="-1"></a>matrix_times_vector <span class="ot">=</span> <span class="cf">function</span>(X, Y) {</span>
<span id="cb97-2"><a href="programming-in-r.html#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.vector</span>(X <span class="sc">%*%</span> Y)</span>
<span id="cb97-3"><a href="programming-in-r.html#cb97-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb97-4"><a href="programming-in-r.html#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="programming-in-r.html#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="co"># e.g.</span></span>
<span id="cb97-6"><a href="programming-in-r.html#cb97-6" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb97-7"><a href="programming-in-r.html#cb97-7" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb97-8"><a href="programming-in-r.html#cb97-8" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb97-9"><a href="programming-in-r.html#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="do">##      [,1] [,2] [,3] [,4]</span></span>
<span id="cb97-10"><a href="programming-in-r.html#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1,]    1    4    7   10</span></span>
<span id="cb97-11"><a href="programming-in-r.html#cb97-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [2,]    2    5    8   11</span></span>
<span id="cb97-12"><a href="programming-in-r.html#cb97-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [3,]    3    6    9   12</span></span>
<span id="cb97-13"><a href="programming-in-r.html#cb97-13" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb97-14"><a href="programming-in-r.html#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 2 3 4</span></span>
<span id="cb97-15"><a href="programming-in-r.html#cb97-15" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix_times_vector</span>(X, Y)</span>
<span id="cb97-16"><a href="programming-in-r.html#cb97-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 70 80 90</span></span></code></pre></div>
<p>Note:</p>
<ol style="list-style-type: decimal">
<li><code>X %*% Y</code> will return a matrix. We can use <code>as.vector</code> to change it into a vector.</li>
<li>It is common to see the error <code>non-conformable arguments</code>. This is because the dimensions of your matrices/vectors do not match.</li>
</ol>
<ul>
<li>If you have a <span class="math inline">\(n\times p\)</span> matrix <span class="math inline">\(A\)</span> and <span class="math inline">\(m \times q\)</span> matrix <span class="math inline">\(B\)</span>, you can do the matrix multiplication <span class="math inline">\(AB\)</span> only if <span class="math inline">\(p = m\)</span>. In R, if this is not the case, there will be an error.</li>
<li>Similarly, if you have a vector <span class="math inline">\(d\)</span> of length <span class="math inline">\(m\)</span>. You can do the matrix multiplication <span class="math inline">\(A d\)</span> only if <span class="math inline">\(p = m\)</span>.</li>
</ul>
<p>Write a function called <code>matrix_times_vector2</code> to compute <span class="math inline">\(X Y\)</span>, where <span class="math inline">\(X\)</span> is a matrix and <span class="math inline">\(Y\)</span> is a vector. The output should be a vector. However, you should check if the dimensions of the inputs are appropriate before you perform the calculation. Display an error message <code>The dimensions do not match</code> if this is not the case.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="programming-in-r.html#cb98-1" aria-hidden="true" tabindex="-1"></a>matrix_times_vector2 <span class="ot">=</span> <span class="cf">function</span>(X, Y) {</span>
<span id="cb98-2"><a href="programming-in-r.html#cb98-2" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ncol</span>(X)</span>
<span id="cb98-3"><a href="programming-in-r.html#cb98-3" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">length</span>(Y)</span>
<span id="cb98-4"><a href="programming-in-r.html#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (p <span class="sc">==</span> m) {</span>
<span id="cb98-5"><a href="programming-in-r.html#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as.vector</span>(X <span class="sc">%*%</span> Y))   </span>
<span id="cb98-6"><a href="programming-in-r.html#cb98-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb98-7"><a href="programming-in-r.html#cb98-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;The dimensions do not match&quot;</span>)</span>
<span id="cb98-8"><a href="programming-in-r.html#cb98-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb98-9"><a href="programming-in-r.html#cb98-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb98-10"><a href="programming-in-r.html#cb98-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-11"><a href="programming-in-r.html#cb98-11" aria-hidden="true" tabindex="-1"></a><span class="co"># e.g.</span></span>
<span id="cb98-12"><a href="programming-in-r.html#cb98-12" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb98-13"><a href="programming-in-r.html#cb98-13" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb98-14"><a href="programming-in-r.html#cb98-14" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix_times_vector2</span>(X, Y)</span>
<span id="cb98-15"><a href="programming-in-r.html#cb98-15" aria-hidden="true" tabindex="-1"></a><span class="do">## The dimensions do not match</span></span>
<span id="cb98-16"><a href="programming-in-r.html#cb98-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-17"><a href="programming-in-r.html#cb98-17" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb98-18"><a href="programming-in-r.html#cb98-18" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb98-19"><a href="programming-in-r.html#cb98-19" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix_times_vector2</span>(X, Y)</span>
<span id="cb98-20"><a href="programming-in-r.html#cb98-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 70 80 90</span></span></code></pre></div>
<div id="argument-matching" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Argument Matching<a href="programming-in-r.html#argument-matching" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Two ways of calling R function with arguments:</p>
<ol style="list-style-type: decimal">
<li>by position of the argument</li>
<li>by name of the argument</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="programming-in-r.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb99-2"><a href="programming-in-r.html#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># generate 5 rv from N(0, 2^2)</span></span>
<span id="cb99-3"><a href="programming-in-r.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.2529076  1.3672866 -0.6712572  4.1905616  1.6590155</span></span>
<span id="cb99-4"><a href="programming-in-r.html#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="programming-in-r.html#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb99-6"><a href="programming-in-r.html#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">mean =</span> <span class="dv">1</span>, <span class="at">sd =</span> <span class="dv">2</span>) <span class="co"># this is the same as above</span></span>
<span id="cb99-7"><a href="programming-in-r.html#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.2529076  1.3672866 -0.6712572  4.1905616  1.6590155</span></span></code></pre></div>
<p>When you call the function by specifiying the name of the argument, the order does not matter:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="programming-in-r.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb100-2"><a href="programming-in-r.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">mean =</span> <span class="dv">1</span>, <span class="at">n =</span> <span class="dv">5</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span>
<span id="cb100-3"><a href="programming-in-r.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.2529076  1.3672866 -0.6712572  4.1905616  1.6590155</span></span></code></pre></div>
<p>But of course, one should not change the order in generally.</p>
</div>
</div>
<div id="control-flow" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Control Flow<a href="programming-in-r.html#control-flow" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="for-loop" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> for loop<a href="programming-in-r.html#for-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can use a for loop when you know how many times you will loop.</p>
<p>Syntax:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="programming-in-r.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (var <span class="cf">in</span> sequence) {</span>
<span id="cb101-2"><a href="programming-in-r.html#cb101-2" aria-hidden="true" tabindex="-1"></a>  statement <span class="co"># do this statement for each value of i</span></span>
<span id="cb101-3"><a href="programming-in-r.html#cb101-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Examples:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="programming-in-r.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { <span class="co"># note: you do not have to define i beforehand</span></span>
<span id="cb102-2"><a href="programming-in-r.html#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb102-3"><a href="programming-in-r.html#cb102-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb102-4"><a href="programming-in-r.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb102-5"><a href="programming-in-r.html#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb102-6"><a href="programming-in-r.html#cb102-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb102-7"><a href="programming-in-r.html#cb102-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb102-8"><a href="programming-in-r.html#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb102-9"><a href="programming-in-r.html#cb102-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-10"><a href="programming-in-r.html#cb102-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>)) {</span>
<span id="cb102-11"><a href="programming-in-r.html#cb102-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb102-12"><a href="programming-in-r.html#cb102-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb102-13"><a href="programming-in-r.html#cb102-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb102-14"><a href="programming-in-r.html#cb102-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb102-15"><a href="programming-in-r.html#cb102-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span></code></pre></div>
<p>Example: write a function with a for loop to produce a conversion table of temperature from Fahrenheit (from <span class="math inline">\(0\)</span> to <span class="math inline">\(200\)</span> with increment <span class="math inline">\(20\)</span>) to their Celsius equivalent.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="programming-in-r.html#cb103-1" aria-hidden="true" tabindex="-1"></a>conv_table <span class="ot">&lt;-</span> <span class="cf">function</span>(low, up, step) {</span>
<span id="cb103-2"><a href="programming-in-r.html#cb103-2" aria-hidden="true" tabindex="-1"></a>  f_temp <span class="ot">&lt;-</span> <span class="fu">seq</span>(low, up, step) </span>
<span id="cb103-3"><a href="programming-in-r.html#cb103-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(f_temp)</span>
<span id="cb103-4"><a href="programming-in-r.html#cb103-4" aria-hidden="true" tabindex="-1"></a>  c_temp <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, n)</span>
<span id="cb103-5"><a href="programming-in-r.html#cb103-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb103-6"><a href="programming-in-r.html#cb103-6" aria-hidden="true" tabindex="-1"></a>    c_temp[i] <span class="ot">&lt;-</span> (<span class="dv">5</span> <span class="sc">/</span> <span class="dv">9</span>) <span class="sc">*</span> (f_temp[i] <span class="sc">-</span> <span class="dv">32</span>)</span>
<span id="cb103-7"><a href="programming-in-r.html#cb103-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb103-8"><a href="programming-in-r.html#cb103-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># alternatively, we can use the vectorized operation</span></span>
<span id="cb103-9"><a href="programming-in-r.html#cb103-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># c_temp &lt;- (5 / 9) * (f_temp - 32)</span></span>
<span id="cb103-10"><a href="programming-in-r.html#cb103-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(f_temp, c_temp)</span>
<span id="cb103-11"><a href="programming-in-r.html#cb103-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb103-12"><a href="programming-in-r.html#cb103-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-13"><a href="programming-in-r.html#cb103-13" aria-hidden="true" tabindex="-1"></a><span class="co"># test your function</span></span>
<span id="cb103-14"><a href="programming-in-r.html#cb103-14" aria-hidden="true" tabindex="-1"></a><span class="fu">conv_table</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="dv">20</span>)</span>
<span id="cb103-15"><a href="programming-in-r.html#cb103-15" aria-hidden="true" tabindex="-1"></a><span class="do">##       f_temp     c_temp</span></span>
<span id="cb103-16"><a href="programming-in-r.html#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1,]      0 -17.777778</span></span>
<span id="cb103-17"><a href="programming-in-r.html#cb103-17" aria-hidden="true" tabindex="-1"></a><span class="do">##  [2,]     20  -6.666667</span></span>
<span id="cb103-18"><a href="programming-in-r.html#cb103-18" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3,]     40   4.444444</span></span>
<span id="cb103-19"><a href="programming-in-r.html#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="do">##  [4,]     60  15.555556</span></span>
<span id="cb103-20"><a href="programming-in-r.html#cb103-20" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5,]     80  26.666667</span></span>
<span id="cb103-21"><a href="programming-in-r.html#cb103-21" aria-hidden="true" tabindex="-1"></a><span class="do">##  [6,]    100  37.777778</span></span>
<span id="cb103-22"><a href="programming-in-r.html#cb103-22" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7,]    120  48.888889</span></span>
<span id="cb103-23"><a href="programming-in-r.html#cb103-23" aria-hidden="true" tabindex="-1"></a><span class="do">##  [8,]    140  60.000000</span></span>
<span id="cb103-24"><a href="programming-in-r.html#cb103-24" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9,]    160  71.111111</span></span>
<span id="cb103-25"><a href="programming-in-r.html#cb103-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [10,]    180  82.222222</span></span>
<span id="cb103-26"><a href="programming-in-r.html#cb103-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [11,]    200  93.333333</span></span></code></pre></div>
</div>
<div id="nested-for-loop" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> nested for loop<a href="programming-in-r.html#nested-for-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>for loops can be nested inside of each other</p>
<p>Examples</p>
<ol style="list-style-type: decimal">
<li>Write R code to find <span class="math inline">\(\sum^{10}_{i=1} \sum^4_{j=1} \frac{i^2}{(i+j)^2}\)</span>.</li>
</ol>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="programming-in-r.html#cb104-1" aria-hidden="true" tabindex="-1"></a>sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb104-2"><a href="programming-in-r.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb104-3"><a href="programming-in-r.html#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>) {</span>
<span id="cb104-4"><a href="programming-in-r.html#cb104-4" aria-hidden="true" tabindex="-1"></a>    sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (i <span class="sc">+</span> j)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb104-5"><a href="programming-in-r.html#cb104-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb104-6"><a href="programming-in-r.html#cb104-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb104-7"><a href="programming-in-r.html#cb104-7" aria-hidden="true" tabindex="-1"></a>sum</span>
<span id="cb104-8"><a href="programming-in-r.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 18.26491</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Write R code to find <span class="math inline">\(\sum^{10}_{i=1} \sum^i_{j=1} \frac{i^2}{(i+j)^3}\)</span>.</li>
</ol>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="programming-in-r.html#cb105-1" aria-hidden="true" tabindex="-1"></a>sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb105-2"><a href="programming-in-r.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb105-3"><a href="programming-in-r.html#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>i) {</span>
<span id="cb105-4"><a href="programming-in-r.html#cb105-4" aria-hidden="true" tabindex="-1"></a>    sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> (i <span class="sc">+</span> j)<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb105-5"><a href="programming-in-r.html#cb105-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb105-6"><a href="programming-in-r.html#cb105-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb105-7"><a href="programming-in-r.html#cb105-7" aria-hidden="true" tabindex="-1"></a>sum</span>
<span id="cb105-8"><a href="programming-in-r.html#cb105-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2.779252</span></span></code></pre></div>
</div>
<div id="while-loop" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> while loop<a href="programming-in-r.html#while-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can use a while loop if you want to loop until a specific condition is met. For example, when you minimize a function numerically using some iterative algorithm, you may want to stop when the objective value does not change much. You may not know how many loops are required in advance so that a while loop may be better than a for loop in this application.</p>
<p>Syntax:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="programming-in-r.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (condition) {</span>
<span id="cb106-2"><a href="programming-in-r.html#cb106-2" aria-hidden="true" tabindex="-1"></a>  statement <span class="co"># while the condition is TRUE, do this</span></span>
<span id="cb106-3"><a href="programming-in-r.html#cb106-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>A simple example:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="programming-in-r.html#cb107-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb107-2"><a href="programming-in-r.html#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (i <span class="sc">&lt;</span> <span class="dv">6</span>) {</span>
<span id="cb107-3"><a href="programming-in-r.html#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb107-4"><a href="programming-in-r.html#cb107-4" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb107-5"><a href="programming-in-r.html#cb107-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb107-6"><a href="programming-in-r.html#cb107-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb107-7"><a href="programming-in-r.html#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb107-8"><a href="programming-in-r.html#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb107-9"><a href="programming-in-r.html#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb107-10"><a href="programming-in-r.html#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span>
<span id="cb107-11"><a href="programming-in-r.html#cb107-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-12"><a href="programming-in-r.html#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="co"># What happen if you change &quot;i &lt; 6&quot; to &quot;i &lt;= 6&quot;? Ans: will print 1 to 6</span></span>
<span id="cb107-13"><a href="programming-in-r.html#cb107-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-14"><a href="programming-in-r.html#cb107-14" aria-hidden="true" tabindex="-1"></a><span class="co"># What happen if you change &quot;i &lt; 6&quot; to &quot;i &lt;= 5&quot;? Ans: outputs are the same</span></span></code></pre></div>
<p>Another example:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="programming-in-r.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find the smallest n such that 1^2+ 2^2+ ... + n^2 &gt; 65</span></span>
<span id="cb108-2"><a href="programming-in-r.html#cb108-2" aria-hidden="true" tabindex="-1"></a>sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb108-3"><a href="programming-in-r.html#cb108-3" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb108-4"><a href="programming-in-r.html#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (sum <span class="sc">&lt;</span> <span class="dv">65</span>) {</span>
<span id="cb108-5"><a href="programming-in-r.html#cb108-5" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb108-6"><a href="programming-in-r.html#cb108-6" aria-hidden="true" tabindex="-1"></a>  sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> i<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb108-7"><a href="programming-in-r.html#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">c</span>(i, sum))  </span>
<span id="cb108-8"><a href="programming-in-r.html#cb108-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb108-9"><a href="programming-in-r.html#cb108-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1 1</span></span>
<span id="cb108-10"><a href="programming-in-r.html#cb108-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2 5</span></span>
<span id="cb108-11"><a href="programming-in-r.html#cb108-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  3 14</span></span>
<span id="cb108-12"><a href="programming-in-r.html#cb108-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  4 30</span></span>
<span id="cb108-13"><a href="programming-in-r.html#cb108-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  5 55</span></span>
<span id="cb108-14"><a href="programming-in-r.html#cb108-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  6 91</span></span>
<span id="cb108-15"><a href="programming-in-r.html#cb108-15" aria-hidden="true" tabindex="-1"></a>i <span class="co"># 6 </span></span>
<span id="cb108-16"><a href="programming-in-r.html#cb108-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span></code></pre></div>
</div>
<div id="if-cond" class="section level3 hasAnchor" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> if (cond)<a href="programming-in-r.html#if-cond" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Syntax:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="programming-in-r.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb109-2"><a href="programming-in-r.html#cb109-2" aria-hidden="true" tabindex="-1"></a>  statement <span class="co"># do this if the condition is TRUE</span></span>
<span id="cb109-3"><a href="programming-in-r.html#cb109-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Example: write a function that outputs “positive” if a positive number is entered.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="programming-in-r.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check if a number if positive</span></span>
<span id="cb110-2"><a href="programming-in-r.html#cb110-2" aria-hidden="true" tabindex="-1"></a>my_pos <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb110-3"><a href="programming-in-r.html#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) { </span>
<span id="cb110-4"><a href="programming-in-r.html#cb110-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;positive&quot;</span>)  </span>
<span id="cb110-5"><a href="programming-in-r.html#cb110-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb110-6"><a href="programming-in-r.html#cb110-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb110-7"><a href="programming-in-r.html#cb110-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-8"><a href="programming-in-r.html#cb110-8" aria-hidden="true" tabindex="-1"></a><span class="fu">my_pos</span>(<span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb110-9"><a href="programming-in-r.html#cb110-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-10"><a href="programming-in-r.html#cb110-10" aria-hidden="true" tabindex="-1"></a><span class="fu">my_pos</span>(<span class="dv">2</span>)</span>
<span id="cb110-11"><a href="programming-in-r.html#cb110-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;positive&quot;</span></span></code></pre></div>
</div>
<div id="if-cond-else-expr" class="section level3 hasAnchor" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> if (cond) else expr<a href="programming-in-r.html#if-cond-else-expr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Syntax</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="programming-in-r.html#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb111-2"><a href="programming-in-r.html#cb111-2" aria-hidden="true" tabindex="-1"></a>  statement1 <span class="co"># do this if condition is TRUE</span></span>
<span id="cb111-3"><a href="programming-in-r.html#cb111-3" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb111-4"><a href="programming-in-r.html#cb111-4" aria-hidden="true" tabindex="-1"></a>  statement2 <span class="co"># do this if condition is FALSE</span></span>
<span id="cb111-5"><a href="programming-in-r.html#cb111-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="programming-in-r.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write my own absolute value function</span></span>
<span id="cb112-2"><a href="programming-in-r.html#cb112-2" aria-hidden="true" tabindex="-1"></a>my_abs <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb112-3"><a href="programming-in-r.html#cb112-3" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> (x<span class="sc">&gt;=</span><span class="dv">0</span>) {</span>
<span id="cb112-4"><a href="programming-in-r.html#cb112-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">return</span>(x)</span>
<span id="cb112-5"><a href="programming-in-r.html#cb112-5" aria-hidden="true" tabindex="-1"></a> } <span class="cf">else</span> {</span>
<span id="cb112-6"><a href="programming-in-r.html#cb112-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">return</span>(<span class="sc">-</span>x)</span>
<span id="cb112-7"><a href="programming-in-r.html#cb112-7" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb112-8"><a href="programming-in-r.html#cb112-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb112-9"><a href="programming-in-r.html#cb112-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-10"><a href="programming-in-r.html#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="fu">my_abs</span>(<span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb112-11"><a href="programming-in-r.html#cb112-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb112-12"><a href="programming-in-r.html#cb112-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-13"><a href="programming-in-r.html#cb112-13" aria-hidden="true" tabindex="-1"></a><span class="fu">my_abs</span>(<span class="dv">3</span>)</span>
<span id="cb112-14"><a href="programming-in-r.html#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb112-15"><a href="programming-in-r.html#cb112-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-16"><a href="programming-in-r.html#cb112-16" aria-hidden="true" tabindex="-1"></a><span class="fu">my_abs</span>(<span class="dv">0</span>)</span>
<span id="cb112-17"><a href="programming-in-r.html#cb112-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0</span></span></code></pre></div>
<p>Error-handling in a function:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="programming-in-r.html#cb113-1" aria-hidden="true" tabindex="-1"></a>my_sqrt <span class="ot">=</span> <span class="cf">function</span>(x) {</span>
<span id="cb113-2"><a href="programming-in-r.html#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">&gt;=</span> <span class="dv">0</span>) {</span>
<span id="cb113-3"><a href="programming-in-r.html#cb113-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">sqrt</span>(x))             <span class="co"># do this if x &gt;= 0</span></span>
<span id="cb113-4"><a href="programming-in-r.html#cb113-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb113-5"><a href="programming-in-r.html#cb113-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Error: this is a negative number!&quot;</span>)   <span class="co"># do this otherwise</span></span>
<span id="cb113-6"><a href="programming-in-r.html#cb113-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb113-7"><a href="programming-in-r.html#cb113-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb113-8"><a href="programming-in-r.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="fu">my_sqrt</span>(<span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb113-9"><a href="programming-in-r.html#cb113-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Error: this is a negative number!</span></span></code></pre></div>
</div>
<div id="if-else-ladder" class="section level3 hasAnchor" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> If else ladder<a href="programming-in-r.html#if-else-ladder" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Syntax</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="programming-in-r.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example</span></span>
<span id="cb114-2"><a href="programming-in-r.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition1) {</span>
<span id="cb114-3"><a href="programming-in-r.html#cb114-3" aria-hidden="true" tabindex="-1"></a>  statement1</span>
<span id="cb114-4"><a href="programming-in-r.html#cb114-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (condition2) {</span>
<span id="cb114-5"><a href="programming-in-r.html#cb114-5" aria-hidden="true" tabindex="-1"></a>  statement2</span>
<span id="cb114-6"><a href="programming-in-r.html#cb114-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (condition1) {</span>
<span id="cb114-7"><a href="programming-in-r.html#cb114-7" aria-hidden="true" tabindex="-1"></a>  statement3</span>
<span id="cb114-8"><a href="programming-in-r.html#cb114-8" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="programming-in-r.html#cb115-1" aria-hidden="true" tabindex="-1"></a>score_to_grade <span class="ot">=</span> <span class="cf">function</span>(x) {</span>
<span id="cb115-2"><a href="programming-in-r.html#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x<span class="sc">&gt;=</span><span class="dv">90</span>) {</span>
<span id="cb115-3"><a href="programming-in-r.html#cb115-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;A+&quot;</span>)</span>
<span id="cb115-4"><a href="programming-in-r.html#cb115-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&gt;=</span> <span class="dv">85</span>) {</span>
<span id="cb115-5"><a href="programming-in-r.html#cb115-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;A&quot;</span>)</span>
<span id="cb115-6"><a href="programming-in-r.html#cb115-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&gt;=</span> <span class="dv">80</span>) {</span>
<span id="cb115-7"><a href="programming-in-r.html#cb115-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;A-&quot;</span>)</span>
<span id="cb115-8"><a href="programming-in-r.html#cb115-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb115-9"><a href="programming-in-r.html#cb115-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;B+ or below&quot;</span>)</span>
<span id="cb115-10"><a href="programming-in-r.html#cb115-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb115-11"><a href="programming-in-r.html#cb115-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb115-12"><a href="programming-in-r.html#cb115-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-13"><a href="programming-in-r.html#cb115-13" aria-hidden="true" tabindex="-1"></a><span class="co"># after you write the function, you should check each case carefully</span></span>
<span id="cb115-14"><a href="programming-in-r.html#cb115-14" aria-hidden="true" tabindex="-1"></a><span class="fu">score_to_grade</span>(<span class="dv">92</span>)</span>
<span id="cb115-15"><a href="programming-in-r.html#cb115-15" aria-hidden="true" tabindex="-1"></a><span class="do">## A+</span></span>
<span id="cb115-16"><a href="programming-in-r.html#cb115-16" aria-hidden="true" tabindex="-1"></a><span class="fu">score_to_grade</span>(<span class="dv">88</span>)</span>
<span id="cb115-17"><a href="programming-in-r.html#cb115-17" aria-hidden="true" tabindex="-1"></a><span class="do">## A</span></span>
<span id="cb115-18"><a href="programming-in-r.html#cb115-18" aria-hidden="true" tabindex="-1"></a><span class="fu">score_to_grade</span>(<span class="dv">83</span>)</span>
<span id="cb115-19"><a href="programming-in-r.html#cb115-19" aria-hidden="true" tabindex="-1"></a><span class="do">## A-</span></span>
<span id="cb115-20"><a href="programming-in-r.html#cb115-20" aria-hidden="true" tabindex="-1"></a><span class="fu">score_to_grade</span>(<span class="dv">78</span>)</span>
<span id="cb115-21"><a href="programming-in-r.html#cb115-21" aria-hidden="true" tabindex="-1"></a><span class="do">## B+ or below</span></span></code></pre></div>
</div>
<div id="switch" class="section level3 hasAnchor" number="3.2.7">
<h3><span class="header-section-number">3.2.7</span> <code>switch</code><a href="programming-in-r.html#switch" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suppose you wish to write a function to generate random variables with two options: standard normal and uniform.</p>
<p>If we use if else, then</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="programming-in-r.html#cb116-1" aria-hidden="true" tabindex="-1"></a>rdist <span class="ot">&lt;-</span> <span class="cf">function</span>(n, dist) {</span>
<span id="cb116-2"><a href="programming-in-r.html#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (dist <span class="sc">==</span> <span class="st">&quot;norm&quot;</span>) {</span>
<span id="cb116-3"><a href="programming-in-r.html#cb116-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rnorm</span>(n)</span>
<span id="cb116-4"><a href="programming-in-r.html#cb116-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (dist <span class="sc">==</span> <span class="st">&quot;unif&quot;</span>) {</span>
<span id="cb116-5"><a href="programming-in-r.html#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">runif</span>(n)</span>
<span id="cb116-6"><a href="programming-in-r.html#cb116-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb116-7"><a href="programming-in-r.html#cb116-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Using <code>switch</code>:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="programming-in-r.html#cb117-1" aria-hidden="true" tabindex="-1"></a>rdist_switch <span class="ot">&lt;-</span> <span class="cf">function</span>(n, dist) {</span>
<span id="cb117-2"><a href="programming-in-r.html#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">switch</span>(dist, <span class="at">norm =</span> <span class="fu">rnorm</span>(n), <span class="at">unif =</span> <span class="fu">runif</span>(n))</span>
<span id="cb117-3"><a href="programming-in-r.html#cb117-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="next-break" class="section level3 hasAnchor" number="3.2.8">
<h3><span class="header-section-number">3.2.8</span> <code>next</code>, <code>break</code><a href="programming-in-r.html#next-break" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>break</code> breaks out of a for, while or repeat loop; control is transferred to the first statement outside the inner-most loop.</p>
<p><code>next</code> halts the processing of the current iteration and advances the looping index.</p>
<p>Both break and next apply only to the innermost of nested loops.</p>
<p>Example of <code>break</code>:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="programming-in-r.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb118-2"><a href="programming-in-r.html#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb118-3"><a href="programming-in-r.html#cb118-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">&lt;=</span> <span class="dv">3</span>) {</span>
<span id="cb118-4"><a href="programming-in-r.html#cb118-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">next</span></span>
<span id="cb118-5"><a href="programming-in-r.html#cb118-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb118-6"><a href="programming-in-r.html#cb118-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">c</span>(i, j))</span>
<span id="cb118-7"><a href="programming-in-r.html#cb118-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb118-8"><a href="programming-in-r.html#cb118-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb118-9"><a href="programming-in-r.html#cb118-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4 1</span></span>
<span id="cb118-10"><a href="programming-in-r.html#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5 1</span></span>
<span id="cb118-11"><a href="programming-in-r.html#cb118-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4 2</span></span>
<span id="cb118-12"><a href="programming-in-r.html#cb118-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5 2</span></span>
<span id="cb118-13"><a href="programming-in-r.html#cb118-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4 3</span></span>
<span id="cb118-14"><a href="programming-in-r.html#cb118-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5 3</span></span></code></pre></div>
<p>Example of <code>next</code>:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="programming-in-r.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb119-2"><a href="programming-in-r.html#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb119-3"><a href="programming-in-r.html#cb119-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">&gt;=</span> <span class="dv">3</span>) {</span>
<span id="cb119-4"><a href="programming-in-r.html#cb119-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb119-5"><a href="programming-in-r.html#cb119-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb119-6"><a href="programming-in-r.html#cb119-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb119-7"><a href="programming-in-r.html#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">c</span>(i, j))</span>
<span id="cb119-8"><a href="programming-in-r.html#cb119-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb119-9"><a href="programming-in-r.html#cb119-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 1</span></span>
<span id="cb119-10"><a href="programming-in-r.html#cb119-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 2</span></span>
<span id="cb119-11"><a href="programming-in-r.html#cb119-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3 3</span></span></code></pre></div>
</div>
</div>
<div id="loop-functions" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Loop functions<a href="programming-in-r.html#loop-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="apply" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> <code>apply()</code><a href="programming-in-r.html#apply" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Apply a function over the margins of an array/ matrix</p>
<p>Basic usage: <code>apply(X, MARGIN, FUN)</code></p>
<p><code>Margin</code>: For a matrix, <code>1</code> indicates rows, <code>2</code> indicates columns</p>
<p><code>FUN</code>: function to be applied</p>
<p>Examples</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="programming-in-r.html#cb120-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">runif</span>(<span class="dv">20</span>), <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb120-2"><a href="programming-in-r.html#cb120-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-3"><a href="programming-in-r.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="co"># row sum</span></span>
<span id="cb120-4"><a href="programming-in-r.html#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">1</span>, sum)</span>
<span id="cb120-5"><a href="programming-in-r.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2.020915 1.959644 3.476258 2.314615</span></span>
<span id="cb120-6"><a href="programming-in-r.html#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="programming-in-r.html#cb120-7" aria-hidden="true" tabindex="-1"></a><span class="co"># column sum</span></span>
<span id="cb120-8"><a href="programming-in-r.html#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">2</span>, sum)</span>
<span id="cb120-9"><a href="programming-in-r.html#cb120-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.453658 2.977065 2.304328 1.430564 1.605818</span></span>
<span id="cb120-10"><a href="programming-in-r.html#cb120-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-11"><a href="programming-in-r.html#cb120-11" aria-hidden="true" tabindex="-1"></a><span class="co"># row mean</span></span>
<span id="cb120-12"><a href="programming-in-r.html#cb120-12" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">1</span>, mean)</span>
<span id="cb120-13"><a href="programming-in-r.html#cb120-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.4041831 0.3919289 0.6952516 0.4629231</span></span>
<span id="cb120-14"><a href="programming-in-r.html#cb120-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-15"><a href="programming-in-r.html#cb120-15" aria-hidden="true" tabindex="-1"></a><span class="co"># column mean</span></span>
<span id="cb120-16"><a href="programming-in-r.html#cb120-16" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(X, <span class="dv">2</span>, mean)</span>
<span id="cb120-17"><a href="programming-in-r.html#cb120-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.3634145 0.7442663 0.5760820 0.3576409 0.4014545</span></span></code></pre></div>
<p>For the special cases of finding row/column sums and means of matrices, there are specific functions:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="programming-in-r.html#cb121-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">runif</span>(<span class="dv">20</span>), <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb121-2"><a href="programming-in-r.html#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rowSums</span>(X)</span>
<span id="cb121-3"><a href="programming-in-r.html#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2.839428 2.709573 3.370761 2.423309</span></span>
<span id="cb121-4"><a href="programming-in-r.html#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="fu">rowMeans</span>(X)</span>
<span id="cb121-5"><a href="programming-in-r.html#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.5678857 0.5419147 0.6741522 0.4846618</span></span>
<span id="cb121-6"><a href="programming-in-r.html#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(X)</span>
<span id="cb121-7"><a href="programming-in-r.html#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1.761405 2.398024 2.602992 2.655045 1.925607</span></span>
<span id="cb121-8"><a href="programming-in-r.html#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colMeans</span>(X)</span>
<span id="cb121-9"><a href="programming-in-r.html#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.4403512 0.5995059 0.6507480 0.6637612 0.4814016</span></span></code></pre></div>
<p>They are faster and their names are easier to understand when reading the code.</p>
</div>
<div id="lapply" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> <code>lapply()</code><a href="programming-in-r.html#lapply" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>lapply()</code>: Apply a function over a list of vector</p>
<p>It will return a list of the same length as your input.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="programming-in-r.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb122-2"><a href="programming-in-r.html#cb122-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb122-3"><a href="programming-in-r.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(n, rnorm) <span class="co"># the result is a list of 5 elements</span></span>
<span id="cb122-4"><a href="programming-in-r.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb122-5"><a href="programming-in-r.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.6264538</span></span>
<span id="cb122-6"><a href="programming-in-r.html#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb122-7"><a href="programming-in-r.html#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb122-8"><a href="programming-in-r.html#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  0.1836433 -0.8356286</span></span>
<span id="cb122-9"><a href="programming-in-r.html#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb122-10"><a href="programming-in-r.html#cb122-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb122-11"><a href="programming-in-r.html#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  1.5952808  0.3295078 -0.8204684</span></span>
<span id="cb122-12"><a href="programming-in-r.html#cb122-12" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb122-13"><a href="programming-in-r.html#cb122-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [[4]]</span></span>
<span id="cb122-14"><a href="programming-in-r.html#cb122-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  0.4874291  0.7383247  0.5757814 -0.3053884</span></span>
<span id="cb122-15"><a href="programming-in-r.html#cb122-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb122-16"><a href="programming-in-r.html#cb122-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [[5]]</span></span>
<span id="cb122-17"><a href="programming-in-r.html#cb122-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  1.5117812  0.3898432 -0.6212406 -2.2146999  1.1249309</span></span></code></pre></div>
<p>The following for loop will give the same result</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="programming-in-r.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb123-2"><a href="programming-in-r.html#cb123-2" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb123-3"><a href="programming-in-r.html#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb123-4"><a href="programming-in-r.html#cb123-4" aria-hidden="true" tabindex="-1"></a>  output[[i]] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(i)</span>
<span id="cb123-5"><a href="programming-in-r.html#cb123-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb123-6"><a href="programming-in-r.html#cb123-6" aria-hidden="true" tabindex="-1"></a>output</span>
<span id="cb123-7"><a href="programming-in-r.html#cb123-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [[1]]</span></span>
<span id="cb123-8"><a href="programming-in-r.html#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.6264538</span></span>
<span id="cb123-9"><a href="programming-in-r.html#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb123-10"><a href="programming-in-r.html#cb123-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [[2]]</span></span>
<span id="cb123-11"><a href="programming-in-r.html#cb123-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  0.1836433 -0.8356286</span></span>
<span id="cb123-12"><a href="programming-in-r.html#cb123-12" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb123-13"><a href="programming-in-r.html#cb123-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [[3]]</span></span>
<span id="cb123-14"><a href="programming-in-r.html#cb123-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  1.5952808  0.3295078 -0.8204684</span></span>
<span id="cb123-15"><a href="programming-in-r.html#cb123-15" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb123-16"><a href="programming-in-r.html#cb123-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [[4]]</span></span>
<span id="cb123-17"><a href="programming-in-r.html#cb123-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  0.4874291  0.7383247  0.5757814 -0.3053884</span></span>
<span id="cb123-18"><a href="programming-in-r.html#cb123-18" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb123-19"><a href="programming-in-r.html#cb123-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [[5]]</span></span>
<span id="cb123-20"><a href="programming-in-r.html#cb123-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1]  1.5117812  0.3898432 -0.6212406 -2.2146999  1.1249309</span></span></code></pre></div>
</div>
</div>
<div id="automatically-reindent-code" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Automatically Reindent Code<a href="programming-in-r.html#automatically-reindent-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To indent a block of code, highlight the text in RStudio, then press Ctrl+i (Windows or Linux) or press Cmd+i (Mac).</p>
<p>Poor indentation, difficult to read</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="programming-in-r.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb124-2"><a href="programming-in-r.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (i <span class="sc">&gt;=</span> <span class="dv">3</span>) {</span>
<span id="cb124-3"><a href="programming-in-r.html#cb124-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(i <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb124-4"><a href="programming-in-r.html#cb124-4" aria-hidden="true" tabindex="-1"></a>          } <span class="cf">else</span> {</span>
<span id="cb124-5"><a href="programming-in-r.html#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i <span class="sc">*</span> <span class="dv">3</span>)</span>
<span id="cb124-6"><a href="programming-in-r.html#cb124-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-7"><a href="programming-in-r.html#cb124-7" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb124-8"><a href="programming-in-r.html#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb124-9"><a href="programming-in-r.html#cb124-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span>
<span id="cb124-10"><a href="programming-in-r.html#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span>
<span id="cb124-11"><a href="programming-in-r.html#cb124-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span>
<span id="cb124-12"><a href="programming-in-r.html#cb124-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span></code></pre></div>
<p>Highlight the block of code, press Ctrl+i or Cmd+i</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="programming-in-r.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb125-2"><a href="programming-in-r.html#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;=</span> <span class="dv">3</span>) {</span>
<span id="cb125-3"><a href="programming-in-r.html#cb125-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(i <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb125-4"><a href="programming-in-r.html#cb125-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb125-5"><a href="programming-in-r.html#cb125-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(i <span class="sc">*</span> <span class="dv">3</span>)</span>
<span id="cb125-6"><a href="programming-in-r.html#cb125-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb125-7"><a href="programming-in-r.html#cb125-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-8"><a href="programming-in-r.html#cb125-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 3</span></span>
<span id="cb125-9"><a href="programming-in-r.html#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span>
<span id="cb125-10"><a href="programming-in-r.html#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 6</span></span>
<span id="cb125-11"><a href="programming-in-r.html#cb125-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 8</span></span>
<span id="cb125-12"><a href="programming-in-r.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span></code></pre></div>
</div>
<div id="speed-consideration" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Speed Consideration<a href="programming-in-r.html#speed-consideration" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While the computing power is getting stronger and stronger, we should still write code that runs efficiently.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="programming-in-r.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># suppose we want to simulate 200,000 normal random variables</span></span>
<span id="cb126-2"><a href="programming-in-r.html#cb126-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">200000</span> </span>
<span id="cb126-3"><a href="programming-in-r.html#cb126-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, n) <span class="co"># create a vector for storage of the values</span></span>
<span id="cb126-4"><a href="programming-in-r.html#cb126-4" aria-hidden="true" tabindex="-1"></a>initial_time <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()</span>
<span id="cb126-5"><a href="programming-in-r.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb126-6"><a href="programming-in-r.html#cb126-6" aria-hidden="true" tabindex="-1"></a>  x[i] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>)</span>
<span id="cb126-7"><a href="programming-in-r.html#cb126-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb126-8"><a href="programming-in-r.html#cb126-8" aria-hidden="true" tabindex="-1"></a><span class="fu">proc.time</span>() <span class="sc">-</span> initial_time</span>
<span id="cb126-9"><a href="programming-in-r.html#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb126-10"><a href="programming-in-r.html#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="do">##    0.08    0.00    0.24</span></span></code></pre></div>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="programming-in-r.html#cb127-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">200000</span> </span>
<span id="cb127-2"><a href="programming-in-r.html#cb127-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, n) <span class="co"># create a vector for storage of the values</span></span>
<span id="cb127-3"><a href="programming-in-r.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively</span></span>
<span id="cb127-4"><a href="programming-in-r.html#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb127-5"><a href="programming-in-r.html#cb127-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb127-6"><a href="programming-in-r.html#cb127-6" aria-hidden="true" tabindex="-1"></a>    x[i] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>)</span>
<span id="cb127-7"><a href="programming-in-r.html#cb127-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb127-8"><a href="programming-in-r.html#cb127-8" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb127-9"><a href="programming-in-r.html#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb127-10"><a href="programming-in-r.html#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="do">##    0.00    0.05    0.22</span></span></code></pre></div>
<p>The ‘user time’ is the CPU time charged for the execution of user instructions of the calling process. The ‘system time’ is the CPU time charged for execution by the system on behalf of the calling process.</p>
<p>A much more efficient way for the same task is to use</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="programming-in-r.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb128-2"><a href="programming-in-r.html#cb128-2" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="dv">200000</span></span>
<span id="cb128-3"><a href="programming-in-r.html#cb128-3" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb128-4"><a href="programming-in-r.html#cb128-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb128-5"><a href="programming-in-r.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb128-6"><a href="programming-in-r.html#cb128-6" aria-hidden="true" tabindex="-1"></a><span class="do">##       0       0       0</span></span></code></pre></div>
<p>Another example:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="programming-in-r.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb129-2"><a href="programming-in-r.html#cb129-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fl">2e6</span>)</span>
<span id="cb129-3"><a href="programming-in-r.html#cb129-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fl">2e6</span>)</span>
<span id="cb129-4"><a href="programming-in-r.html#cb129-4" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fl">2e6</span>)</span>
<span id="cb129-5"><a href="programming-in-r.html#cb129-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-6"><a href="programming-in-r.html#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb129-7"><a href="programming-in-r.html#cb129-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){ </span>
<span id="cb129-8"><a href="programming-in-r.html#cb129-8" aria-hidden="true" tabindex="-1"></a>    v[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> y[i]</span>
<span id="cb129-9"><a href="programming-in-r.html#cb129-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb129-10"><a href="programming-in-r.html#cb129-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb129-11"><a href="programming-in-r.html#cb129-11" aria-hidden="true" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb129-12"><a href="programming-in-r.html#cb129-12" aria-hidden="true" tabindex="-1"></a><span class="do">##    0.06    0.00    0.07</span></span>
<span id="cb129-13"><a href="programming-in-r.html#cb129-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-14"><a href="programming-in-r.html#cb129-14" aria-hidden="true" tabindex="-1"></a><span class="fu">system.time</span>(v <span class="ot">&lt;-</span> x <span class="sc">+</span> y)</span>
<span id="cb129-15"><a href="programming-in-r.html#cb129-15" aria-hidden="true" tabindex="-1"></a><span class="do">##    user  system elapsed </span></span>
<span id="cb129-16"><a href="programming-in-r.html#cb129-16" aria-hidden="true" tabindex="-1"></a><span class="do">##       0       0       0</span></span></code></pre></div>
<p>The general rule is to use vectorized operations whenever possible and to avoid using for loops. We use a for loop when the code is not time-consuming or when the code is hard to write without using a for loop. A more advanced option is to combine C++ with R using the package <code>rcpp</code>. That is, we can write the most time-consuming part of the R code in C++, which could run many times faster (will not be discussed in this course).</p>
<p>See also <a href="http://www.noamross.net/archives/2014-04-16-vectorization-in-r-why/" class="uri">http://www.noamross.net/archives/2014-04-16-vectorization-in-r-why/</a></p>
</div>
<div id="additional-exercises-1" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Additional Exercises<a href="programming-in-r.html#additional-exercises-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Write a function that takes two numbers as arguments and returns the sum of the numbers.</li>
</ol>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="programming-in-r.html#cb130-1" aria-hidden="true" tabindex="-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb130-2"><a href="programming-in-r.html#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> y)</span>
<span id="cb130-3"><a href="programming-in-r.html#cb130-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb130-4"><a href="programming-in-r.html#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="fu">my_sum</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb130-5"><a href="programming-in-r.html#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Write a function that takes a vector as an argument and returns the mean of the elements of the vector.</li>
</ol>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="programming-in-r.html#cb131-1" aria-hidden="true" tabindex="-1"></a>my_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb131-2"><a href="programming-in-r.html#cb131-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># let&#39;s use a for loop to compute the mean</span></span>
<span id="cb131-3"><a href="programming-in-r.html#cb131-3" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb131-4"><a href="programming-in-r.html#cb131-4" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb131-5"><a href="programming-in-r.html#cb131-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb131-6"><a href="programming-in-r.html#cb131-6" aria-hidden="true" tabindex="-1"></a>    output <span class="ot">&lt;-</span> output <span class="sc">+</span> x[i]  </span>
<span id="cb131-7"><a href="programming-in-r.html#cb131-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb131-8"><a href="programming-in-r.html#cb131-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(output <span class="sc">/</span> n)</span>
<span id="cb131-9"><a href="programming-in-r.html#cb131-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb131-10"><a href="programming-in-r.html#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="fu">my_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">11</span>))</span>
<span id="cb131-11"><a href="programming-in-r.html#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 5</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Write a function that takes a matrix as an argument and returns the sum of the diagonal elements.</li>
</ol>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="programming-in-r.html#cb132-1" aria-hidden="true" tabindex="-1"></a>sum_diag <span class="ot">&lt;-</span> <span class="cf">function</span>(A) {</span>
<span id="cb132-2"><a href="programming-in-r.html#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(<span class="fu">diag</span>(A)))</span>
<span id="cb132-3"><a href="programming-in-r.html#cb132-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb132-4"><a href="programming-in-r.html#cb132-4" aria-hidden="true" tabindex="-1"></a>C <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">81</span>, <span class="at">nrow =</span> <span class="dv">9</span>, <span class="at">ncol =</span> <span class="dv">9</span>)</span>
<span id="cb132-5"><a href="programming-in-r.html#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sum_diag</span>(C)</span>
<span id="cb132-6"><a href="programming-in-r.html#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 369</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Write a for loop that iterates from 1 to 10 and prints the square of each number.</li>
</ol>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="programming-in-r.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb133-2"><a href="programming-in-r.html#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb133-3"><a href="programming-in-r.html#cb133-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb133-4"><a href="programming-in-r.html#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 1</span></span>
<span id="cb133-5"><a href="programming-in-r.html#cb133-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb133-6"><a href="programming-in-r.html#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 9</span></span>
<span id="cb133-7"><a href="programming-in-r.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 16</span></span>
<span id="cb133-8"><a href="programming-in-r.html#cb133-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 25</span></span>
<span id="cb133-9"><a href="programming-in-r.html#cb133-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 36</span></span>
<span id="cb133-10"><a href="programming-in-r.html#cb133-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 49</span></span>
<span id="cb133-11"><a href="programming-in-r.html#cb133-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 64</span></span>
<span id="cb133-12"><a href="programming-in-r.html#cb133-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 81</span></span>
<span id="cb133-13"><a href="programming-in-r.html#cb133-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 100</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Write a for loop that iterates through a vector of names and prints each name.</li>
</ol>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="programming-in-r.html#cb134-1" aria-hidden="true" tabindex="-1"></a>v_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;BC&quot;</span>, <span class="st">&quot;EO&quot;</span>, <span class="st">&quot;QP&quot;</span>)</span>
<span id="cb134-2"><a href="programming-in-r.html#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(v_names)) {</span>
<span id="cb134-3"><a href="programming-in-r.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(v_names[i])</span>
<span id="cb134-4"><a href="programming-in-r.html#cb134-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb134-5"><a href="programming-in-r.html#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;A&quot;</span></span>
<span id="cb134-6"><a href="programming-in-r.html#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;BC&quot;</span></span>
<span id="cb134-7"><a href="programming-in-r.html#cb134-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;EO&quot;</span></span>
<span id="cb134-8"><a href="programming-in-r.html#cb134-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;QP&quot;</span></span>
<span id="cb134-9"><a href="programming-in-r.html#cb134-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-10"><a href="programming-in-r.html#cb134-10" aria-hidden="true" tabindex="-1"></a><span class="co"># alternatively</span></span>
<span id="cb134-11"><a href="programming-in-r.html#cb134-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> v_names) {</span>
<span id="cb134-12"><a href="programming-in-r.html#cb134-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb134-13"><a href="programming-in-r.html#cb134-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb134-14"><a href="programming-in-r.html#cb134-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;A&quot;</span></span>
<span id="cb134-15"><a href="programming-in-r.html#cb134-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;BC&quot;</span></span>
<span id="cb134-16"><a href="programming-in-r.html#cb134-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;EO&quot;</span></span>
<span id="cb134-17"><a href="programming-in-r.html#cb134-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;QP&quot;</span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Write a for loop that iterates through a vector of numbers and prints only the even numbers.</li>
</ol>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="programming-in-r.html#cb135-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">10</span>)</span>
<span id="cb135-2"><a href="programming-in-r.html#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="programming-in-r.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb135-4"><a href="programming-in-r.html#cb135-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x[i]<span class="sc">%%</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb135-5"><a href="programming-in-r.html#cb135-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(x[i])</span>
<span id="cb135-6"><a href="programming-in-r.html#cb135-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb135-7"><a href="programming-in-r.html#cb135-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb135-8"><a href="programming-in-r.html#cb135-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 4</span></span>
<span id="cb135-9"><a href="programming-in-r.html#cb135-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 2</span></span>
<span id="cb135-10"><a href="programming-in-r.html#cb135-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 10</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Sum the even numbers in a vector</li>
</ol>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="programming-in-r.html#cb136-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">10</span>)</span>
<span id="cb136-2"><a href="programming-in-r.html#cb136-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span> <span class="co"># vectorized operation</span></span>
<span id="cb136-3"><a href="programming-in-r.html#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</span></span>
<span id="cb136-4"><a href="programming-in-r.html#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x[x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>])</span>
<span id="cb136-5"><a href="programming-in-r.html#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 16</span></span>
<span id="cb136-6"><a href="programming-in-r.html#cb136-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-7"><a href="programming-in-r.html#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="co"># alternative way of doing the same task</span></span>
<span id="cb136-8"><a href="programming-in-r.html#cb136-8" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb136-9"><a href="programming-in-r.html#cb136-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)) {</span>
<span id="cb136-10"><a href="programming-in-r.html#cb136-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x[i] <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb136-11"><a href="programming-in-r.html#cb136-11" aria-hidden="true" tabindex="-1"></a>    output <span class="ot">&lt;-</span> output <span class="sc">+</span> x[i]</span>
<span id="cb136-12"><a href="programming-in-r.html#cb136-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb136-13"><a href="programming-in-r.html#cb136-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb136-14"><a href="programming-in-r.html#cb136-14" aria-hidden="true" tabindex="-1"></a>output</span>
<span id="cb136-15"><a href="programming-in-r.html#cb136-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 16</span></span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>Generate some random integers from 1 to 1 million</li>
</ol>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="programming-in-r.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fl">1e6</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb137-2"><a href="programming-in-r.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] 561439 127167 780154 220509 719167 764255 396230 217832 690367 751599</span></span></code></pre></div>
<ol start="9" style="list-style-type: decimal">
<li>Write an if statement that checks if a variable <code>x</code> is equal to 5, and if so print “x is equal to 5”.</li>
</ol>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="programming-in-r.html#cb138-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb138-2"><a href="programming-in-r.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb138-3"><a href="programming-in-r.html#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is equal to 5&quot;</span>)</span>
<span id="cb138-4"><a href="programming-in-r.html#cb138-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ol start="10" style="list-style-type: decimal">
<li>Write an if-else statement that checks if a variable y is greater than 10 and if so, print “y is greater than 10”; otherwise, print “y is less than or equal to 10”.</li>
</ol>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="programming-in-r.html#cb139-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb139-2"><a href="programming-in-r.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (y <span class="sc">&gt;</span> <span class="dv">10</span>) {</span>
<span id="cb139-3"><a href="programming-in-r.html#cb139-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;y is greater than 10&quot;</span>)</span>
<span id="cb139-4"><a href="programming-in-r.html#cb139-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb139-5"><a href="programming-in-r.html#cb139-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;y is less than or equal to 10&quot;</span>)</span>
<span id="cb139-6"><a href="programming-in-r.html#cb139-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb139-7"><a href="programming-in-r.html#cb139-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;y is less than or equal to 10&quot;</span></span></code></pre></div>
<ol start="11" style="list-style-type: decimal">
<li>Write a nested if-else statement that checks if a variable z is positive, and if so, check if it is even or odd and prints “z is positive and even”. Print “z is not positive” if z is not positive.</li>
</ol>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="programming-in-r.html#cb140-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb140-2"><a href="programming-in-r.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (z <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb140-3"><a href="programming-in-r.html#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (z <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb140-4"><a href="programming-in-r.html#cb140-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">&quot;z is positive and even&quot;</span>)</span>
<span id="cb140-5"><a href="programming-in-r.html#cb140-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb140-6"><a href="programming-in-r.html#cb140-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb140-7"><a href="programming-in-r.html#cb140-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;z is not positive&quot;</span>)</span>
<span id="cb140-8"><a href="programming-in-r.html#cb140-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb140-9"><a href="programming-in-r.html#cb140-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;z is not positive&quot;</span></span></code></pre></div>
<ol start="12" style="list-style-type: decimal">
<li>Another example</li>
</ol>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="programming-in-r.html#cb141-1" aria-hidden="true" tabindex="-1"></a>check_pos_even <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb141-2"><a href="programming-in-r.html#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb141-3"><a href="programming-in-r.html#cb141-3" aria-hidden="true" tabindex="-1"></a>    pos_neg <span class="ot">&lt;-</span> <span class="st">&quot;+ve&quot;</span></span>
<span id="cb141-4"><a href="programming-in-r.html#cb141-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb141-5"><a href="programming-in-r.html#cb141-5" aria-hidden="true" tabindex="-1"></a>      even_odd <span class="ot">&lt;-</span> <span class="st">&quot;even&quot;</span></span>
<span id="cb141-6"><a href="programming-in-r.html#cb141-6" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb141-7"><a href="programming-in-r.html#cb141-7" aria-hidden="true" tabindex="-1"></a>      even_odd <span class="ot">&lt;-</span> <span class="st">&quot;odd&quot;</span></span>
<span id="cb141-8"><a href="programming-in-r.html#cb141-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb141-9"><a href="programming-in-r.html#cb141-9" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb141-10"><a href="programming-in-r.html#cb141-10" aria-hidden="true" tabindex="-1"></a>    pos_neg <span class="ot">&lt;-</span> <span class="st">&quot;-ve&quot;</span></span>
<span id="cb141-11"><a href="programming-in-r.html#cb141-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb141-12"><a href="programming-in-r.html#cb141-12" aria-hidden="true" tabindex="-1"></a>      even_odd <span class="ot">&lt;-</span> <span class="st">&quot;even&quot;</span></span>
<span id="cb141-13"><a href="programming-in-r.html#cb141-13" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb141-14"><a href="programming-in-r.html#cb141-14" aria-hidden="true" tabindex="-1"></a>      even_odd <span class="ot">&lt;-</span> <span class="st">&quot;odd&quot;</span></span>
<span id="cb141-15"><a href="programming-in-r.html#cb141-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb141-16"><a href="programming-in-r.html#cb141-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb141-17"><a href="programming-in-r.html#cb141-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(pos_neg, <span class="st">&quot; and &quot;</span>, even_odd))</span>
<span id="cb141-18"><a href="programming-in-r.html#cb141-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb141-19"><a href="programming-in-r.html#cb141-19" aria-hidden="true" tabindex="-1"></a><span class="fu">check_pos_even</span>(<span class="dv">1</span>)</span>
<span id="cb141-20"><a href="programming-in-r.html#cb141-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;+ve and odd&quot;</span></span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="probability-and-simulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="managing-data-with-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Book.pdf", "Book.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
